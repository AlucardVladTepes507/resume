<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de CV Profesional</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .form-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            max-height: 90vh;
            overflow-y: auto;
        }

        .preview-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            position: sticky;
            top: 20px;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            color: #555;
            margin: 20px 0 15px 0;
            font-size: 1.3em;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-weight: 500;
            font-size: 0.9em;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s;
            font-family: inherit;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-row-three {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 14px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #666;
        }

        .btn-danger {
            background: linear-gradient(135deg, #f56565 0%, #ed64a6 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }

        .experience-item, .education-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            position: relative;
        }

        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4444;
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            line-height: 1;
        }

        /* Configuración de diseño */
        .design-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .design-controls h3 {
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1em;
        }

        /* Preview Styles */
        #preview {
            padding: 40px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            min-height: 600px;
            max-height: 70vh;
            overflow-y: auto;
            transition: all 0.3s;
        }

        /* Base styles for CV */
        .cv-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .cv-name {
            font-size: 2.5em;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .cv-contact {
            color: #718096;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .cv-section {
            margin-bottom: 30px;
        }

        .cv-section-title {
            color: #4a5568;
            font-size: 1.3em;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #667eea;
        }

        .cv-item {
            margin-bottom: 20px;
        }

        .cv-item-title {
            font-weight: 600;
            color: #2d3748;
            font-size: 1.1em;
        }

        .cv-item-subtitle {
            color: #718096;
            font-style: italic;
            margin: 5px 0;
        }

        .cv-item-date {
            color: #a0aec0;
            font-size: 0.9em;
        }

        .cv-item-description {
            color: #4a5568;
            margin-top: 10px;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .skill-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .photo-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 20px;
            display: block;
            border: 4px solid #667eea;
        }

        #photoInput {
            display: none;
        }

        .photo-upload-btn {
            display: inline-block;
            background: #f0f0f0;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: background 0.3s;
        }

        .photo-upload-btn:hover {
            background: #e0e0e0;
        }

        /* Layout de dos columnas */
        .cv-two-columns {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        .cv-left-column {
            background: #f8f9fa;
            padding: 30px 20px;
            border-radius: 10px;
        }

        .cv-right-column {
            padding: 0 20px;
        }

        .cv-two-columns .cv-header {
            grid-column: 1 / -1;
            margin-bottom: 20px;
        }

        /* Estilos regionales */
        
        /* LATAM Style */
        .region-latam .cv-header {
            background: linear-gradient(135deg, #ff6b6b, #ff8787);
            color: white;
            padding: 30px;
            border-radius: 15px;
            border: none;
        }

        .region-latam .cv-name {
            color: white;
        }

        .region-latam .cv-contact {
            color: rgba(255,255,255,0.9);
        }

        .region-latam .cv-section-title {
            border-bottom: 3px solid #ff6b6b;
            color: #ff6b6b;
        }

        .region-latam .skill-tag {
            background: linear-gradient(135deg, #ff6b6b, #ff8787);
        }

        /* USA Style */
        .region-usa .cv-header {
            border-bottom: 3px solid #2563eb;
            background: #f8fafc;
            padding: 20px;
        }

        .region-usa .cv-section-title {
            border-bottom: 2px solid #2563eb;
            color: #1e40af;
            text-transform: uppercase;
            font-size: 1.1em;
            letter-spacing: 1px;
        }

        .region-usa .photo-preview {
            display: none; /* En USA generalmente no se incluye foto */
        }

        .region-usa .skill-tag {
            background: #2563eb;
            border-radius: 5px;
        }

        /* Canada Style */
        .region-canada .cv-header {
            border-bottom: 3px solid #dc2626;
            background: #fef2f2;
        }

        .region-canada .cv-section-title {
            border-bottom: 2px solid #dc2626;
            color: #b91c1c;
        }

        .region-canada .skill-tag {
            background: #dc2626;
        }

        /* Europa Style */
        .region-europa .cv-header {
            border-bottom: 2px solid #059669;
            background: #f0fdf4;
        }

        .region-europa .cv-section-title {
            border-bottom: 1px solid #059669;
            color: #047857;
        }

        .region-europa .skill-tag {
            background: #059669;
            border-radius: 3px;
        }

        .region-europa .cv-item {
            border-left: 3px solid #d1fae5;
            padding-left: 15px;
        }

        /* Tamaños de texto */
        .text-small {
            font-size: 0.85em;
        }

        .text-medium {
            font-size: 1em;
        }

        .text-large {
            font-size: 1.15em;
        }

        .text-small .cv-name {
            font-size: 2.2em;
        }

        .text-medium .cv-name {
            font-size: 2.5em;
        }

        .text-large .cv-name {
            font-size: 2.8em;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                display: block;
            }
            
            .form-section {
                display: none;
            }
            
            .preview-section {
                box-shadow: none;
                padding: 0;
                border-radius: 0;
            }
            
            #preview {
                border: none;
                max-height: none;
            }
            
            .button-group {
                display: none;
            }
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .preview-section {
                position: static;
            }

            .cv-two-columns {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-section">
            <h1>✨ Generador de CV Profesional</h1>
            
            <!-- Controles de diseño -->
            <div class="design-controls">
                <h3>🎨 Configuración de Diseño</h3>
                <div class="form-row-three">
                    <div class="form-group">
                        <label for="layoutSelect">Layout</label>
                        <select id="layoutSelect">
                            <option value="single">Una Columna</option>
                            <option value="double">Dos Columnas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="regionSelect">Región</label>
                        <select id="regionSelect">
                            <option value="latam">LATAM</option>
                            <option value="usa">USA</option>
                            <option value="canada">Canadá</option>
                            <option value="europa">Europa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="fontSizeSelect">Tamaño de Texto</label>
                        <select id="fontSizeSelect">
                            <option value="small">Pequeño</option>
                            <option value="medium" selected>Mediano</option>
                            <option value="large">Grande</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <h2>📝 Información Personal</h2>
            <div class="form-group">
                <label for="fullName">Nombre Completo *</label>
                <input type="text" id="fullName" placeholder="Ej: Juan Pérez García">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" placeholder="juan@email.com">
                </div>
                <div class="form-group">
                    <label for="phone">Teléfono</label>
                    <input type="tel" id="phone" placeholder="+34 600 000 000">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="location">Ubicación</label>
                    <input type="text" id="location" placeholder="Madrid, España">
                </div>
                <div class="form-group">
                    <label for="linkedin">LinkedIn</label>
                    <input type="text" id="linkedin" placeholder="linkedin.com/in/juanperez">
                </div>
            </div>

            <div class="form-group">
                <label for="photoInput">Foto de Perfil</label>
                <label for="photoInput" class="photo-upload-btn">
                    📷 Subir Foto
                </label>
                <input type="file" id="photoInput" accept="image/*">
                <small style="color: #666; display: block; margin-top: 5px;">
                    Nota: En USA generalmente no se incluye foto por políticas de no discriminación
                </small>
            </div>
            
            <h2>👤 Resumen Profesional</h2>
            <div class="form-group">
                <textarea id="summary" placeholder="Breve descripción sobre ti, tu experiencia y objetivos profesionales..."></textarea>
            </div>
            
            <h2>💼 Experiencia Laboral</h2>
            <div id="experienceContainer"></div>
            <button onclick="addExperience()">+ Añadir Experiencia</button>
            
            <h2>🎓 Educación</h2>
            <div id="educationContainer"></div>
            <button onclick="addEducation()">+ Añadir Educación</button>
            
            <h2>🚀 Habilidades</h2>
            <div class="form-group">
                <textarea id="skills" placeholder="Separa tus habilidades con comas: JavaScript, Python, Liderazgo, etc."></textarea>
            </div>
            
            <h2>🌍 Idiomas</h2>
            <div class="form-group">
                <textarea id="languages" placeholder="Ej: Español (Nativo), Inglés (Avanzado), Francés (Intermedio)"></textarea>
            </div>
        </div>
        
        <div class="preview-section">
            <h1>👁️ Vista Previa</h1>
            <div id="preview">
                <div class="cv-header">
                    <div class="cv-name">Tu Nombre Aquí</div>
                    <div class="cv-contact">Email • Teléfono • Ubicación</div>
                </div>
                <div style="text-align: center; color: #999; padding: 50px;">
                    Completa el formulario para ver tu CV aquí
                </div>
            </div>
            <div class="button-group">
                <button class="btn-success" onclick="window.print()">🖨️ Imprimir / PDF</button>
                <button class="btn-danger" onclick="resetForm()">🗑️ Limpiar Todo</button>
            </div>
        </div>
    </div>

    <script>
        let experienceCount = 0;
        let educationCount = 0;
        let photoData = null;

        // Actualizar preview en tiempo real
        document.addEventListener('input', updatePreview);
        
        // Event listeners para los controles de diseño
        document.getElementById('layoutSelect').addEventListener('change', updatePreview);
        document.getElementById('regionSelect').addEventListener('change', updatePreview);
        document.getElementById('fontSizeSelect').addEventListener('change', updatePreview);
        
        // Foto upload
        document.getElementById('photoInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onloadend = function() {
                    photoData = reader.result;
                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        });

        function addExperience() {
            const container = document.getElementById('experienceContainer');
            const id = experienceCount++;
            
            const div = document.createElement('div');
            div.className = 'experience-item';
            div.id = `exp-${id}`;
            div.innerHTML = `
                <button class="remove-btn" onclick="removeItem('exp-${id}')">×</button>
                <div class="form-row">
                    <div class="form-group">
                        <label>Cargo</label>
                        <input type="text" id="expTitle-${id}" placeholder="Desarrollador Senior">
                    </div>
                    <div class="form-group">
                        <label>Empresa</label>
                        <input type="text" id="expCompany-${id}" placeholder="Tech Company S.A.">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Fecha Inicio</label>
                        <input type="text" id="expStart-${id}" placeholder="Enero 2020">
                    </div>
                    <div class="form-group">
                        <label>Fecha Fin</label>
                        <input type="text" id="expEnd-${id}" placeholder="Actualidad">
                    </div>
                </div>
                <div class="form-group">
                    <label>Descripción</label>
                    <textarea id="expDesc-${id}" placeholder="Describe tus responsabilidades y logros..."></textarea>
                </div>
            `;
            
            container.appendChild(div);
        }

        function addEducation() {
            const container = document.getElementById('educationContainer');
            const id = educationCount++;
            
            const div = document.createElement('div');
            div.className = 'education-item';
            div.id = `edu-${id}`;
            div.innerHTML = `
                <button class="remove-btn" onclick="removeItem('edu-${id}')">×</button>
                <div class="form-row">
                    <div class="form-group">
                        <label>Título</label>
                        <input type="text" id="eduTitle-${id}" placeholder="Ingeniería Informática">
                    </div>
                    <div class="form-group">
                        <label>Institución</label>
                        <input type="text" id="eduInstitution-${id}" placeholder="Universidad Complutense">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Fecha Inicio</label>
                        <input type="text" id="eduStart-${id}" placeholder="2016">
                    </div>
                    <div class="form-group">
                        <label>Fecha Fin</label>
                        <input type="text" id="eduEnd-${id}" placeholder="2020">
                    </div>
                </div>
            `;
            
            container.appendChild(div);
        }

        function removeItem(id) {
            document.getElementById(id).remove();
            updatePreview();
        }

        function updatePreview() {
            const name = document.getElementById('fullName').value || 'Tu Nombre Aquí';
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const location = document.getElementById('location').value;
            const linkedin = document.getElementById('linkedin').value;
            const summary = document.getElementById('summary').value;
            const skills = document.getElementById('skills').value;
            const languages = document.getElementById('languages').value;
            
            const layout = document.getElementById('layoutSelect').value;
            const region = document.getElementById('regionSelect').value;
            const fontSize = document.getElementById('fontSizeSelect').value;
            
            // Aplicar clases de diseño
            const preview = document.getElementById('preview');
            preview.className = `region-${region} text-${fontSize} ${layout === 'double' ? 'cv-two-columns' : ''}`;
            
            let html = '';
            
            // Header
            const showPhoto = region !== 'usa' && photoData; // USA no muestra foto
            html += `
                <div class="cv-header">
                    ${showPhoto ? `<img src="${photoData}" class="photo-preview" alt="Foto">` : ''}
                    <div class="cv-name">${name}</div>
                    <div class="cv-contact">
                        ${[email, phone, location].filter(Boolean).join(' • ')}
                        ${linkedin ? `<br>${linkedin}` : ''}
                    </div>
                </div>
            `;
            
            if (layout === 'double') {
                // Layout de dos columnas
                html += '<div class="cv-left-column">';
                
                // Habilidades en columna izquierda
                if (skills) {
                    const skillList = skills.split(',').map(s => s.trim()).filter(Boolean);
                    if (skillList.length > 0) {
                        html += '<div class="cv-section"><div class="cv-section-title">Habilidades</div><div class="skills-container">';
                        skillList.forEach(skill => {
                            html += `<span class="skill-tag">${skill}</span>`;
                        });
                        html += '</div></div>';
                    }
                }
                
                // Idiomas en columna izquierda
                if (languages) {
                    const langList = languages.split(',').map(l => l.trim()).filter(Boolean);
                    if (langList.length > 0) {
                        html += '<div class="cv-section"><div class="cv-section-title">Idiomas</div><div class="skills-container">';
                        langList.forEach(lang => {
                            html += `<span class="skill-tag">${lang}</span>`;
                        });
                        html += '</div></div>';
                    }
                }
                
                html += '</div><div class="cv-right-column">';
                
                // Resumen en columna derecha
                if (summary) {
                    html += `
                        <div class="cv-section">
                            <div class="cv-section-title">Resumen Profesional</div>
                            <p>${summary}</p>
                        </div>
                    `;
                }
                
                // Experiencia y educación en columna derecha
                html += getExperienceHTML() + getEducationHTML();
                html += '</div>';
                
            } else {
                // Layout de una columna
                if (summary) {
                    html += `
                        <div class="cv-section">
                            <div class="cv-section-title">Resumen Profesional</div>
                            <p>${summary}</p>
                        </div>
                    `;
                }
                
                html += getExperienceHTML() + getEducationHTML();
                
                // Habilidades
                if (skills) {
                    const skillList = skills.split(',').map(s => s.trim()).filter(Boolean);
                    if (skillList.length > 0) {
                        html += '<div class="cv-section"><div class="cv-section-title">Habilidades</div><div class="skills-container">';
                        skillList.forEach(skill => {
                            html += `<span class="skill-tag">${skill}</span>`;
                        });
                        html += '</div></div>';
                    }
                }
                
                // Idiomas
                if (languages) {
                    const langList = languages.split(',').map(l => l.trim()).filter(Boolean);
                    if (langList.length > 0) {
                        html += '<div class="cv-section"><div class="cv-section-title">Idiomas</div><div class="skills-container">';
                        langList.forEach(lang => {
                            html += `<span class="skill-tag">${lang}</span>`;
                        });
                        html += '</div></div>';
                    }
                }
            }
            
            document.getElementById('preview').innerHTML = html;
        }
        
        function getExperienceHTML() {
            const experiences = [];
            for (let i = 0; i < experienceCount; i++) {
                const title = document.getElementById(`expTitle-${i}`)?.value;
                const company = document.getElementById(`expCompany-${i}`)?.value;
                const start = document.getElementById(`expStart-${i}`)?.value;
                const end = document.getElementById(`expEnd-${i}`)?.value;
                const desc = document.getElementById(`expDesc-${i}`)?.value;
                
                if (title || company) {
                    experiences.push({ title, company, start, end, desc });
                }
            }
            
            if (experiences.length > 0) {
                let html = '<div class="cv-section"><div class="cv-section-title">Experiencia Laboral</div>';
                experiences.forEach(exp => {
                    html += `
                        <div class="cv-item">
                            <div class="cv-item-title">${exp.title || 'Cargo'}</div>
                            <div class="cv-item-subtitle">${exp.company || 'Empresa'}</div>
                            <div class="cv-item-date">${exp.start || ''} ${exp.start && exp.end ? '-' : ''} ${exp.end || ''}</div>
                            ${exp.desc ? `<div class="cv-item-description">${exp.desc}</div>` : ''}
                        </div>
                    `;
                });
                html += '</div>';
                return html;
            }
            return '';
        }
        
        function getEducationHTML() {
            const educations = [];
            for (let i = 0; i < educationCount; i++) {
                const title = document.getElementById(`eduTitle-${i}`)?.value;
                const institution = document.getElementById(`eduInstitution-${i}`)?.value;
                const start = document.getElementById(`eduStart-${i}`)?.value;
                const end = document.getElementById(`eduEnd-${i}`)?.value;
                
                if (title || institution) {
                    educations.push({ title, institution, start, end });
                }
            }
            
            if (educations.length > 0) {
                let html = '<div class="cv-section"><div class="cv-section-title">Educación</div>';
                educations.forEach(edu => {
                    html += `
                        <div class="cv-item">
                            <div class="cv-item-title">${edu.title || 'Título'}</div>
                            <div class="cv-item-subtitle">${edu.institution || 'Institución'}</div>
                            <div class="cv-item-date">${edu.start || ''} ${edu.start && edu.end ? '-' : ''} ${edu.end || ''}</div>
                        </div>
                    `;
                });
                html += '</div>';
                return html;
            }
            return '';
        }

        function resetForm() {
            if (confirm('¿Estás seguro de que quieres borrar todo?')) {
                document.querySelectorAll('input, textarea').forEach(el => el.value = '');
                document.getElementById('experienceContainer').innerHTML = '';
                document.getElementById('educationContainer').innerHTML = '';
                document.getElementById('layoutSelect').selectedIndex = 0;
                document.getElementById('regionSelect').selectedIndex = 0;
                document.getElementById('fontSizeSelect').selectedIndex = 1;
                experienceCount = 0;
                educationCount = 0;
                photoData = null;
                updatePreview();
            }
        }

        // Agregar una experiencia y educación por defecto al cargar
        window.addEventListener('load', () => {
            addExperience();
            addEducation();
        });
    </script>
</body>
</html>
